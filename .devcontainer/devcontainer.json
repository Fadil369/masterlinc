{
    "name": "Masterlinc Dev Container",
    "image": "mcr.microsoft.com/devcontainers/typescript-node:1-20-bookworm",

    "features": {
          "ghcr.io/devcontainers/features/python:1": {
                  "version": "3.11"
          },
          "ghcr.io/devcontainers/features/docker-in-docker:2": {
                  "version": "latest"
          },
          "ghcr.io/devcontainers/features/git:1": {
                  "version": "latest"
          }
    },

    "customizations": {
          "vscode": {
                  "extensions": [
                            "GitHub.copilot",
                            "GitHub.copilot-chat",
                            "dbaeumer.vscode-eslint",
                            "esbenp.prettier-vscode",
                            "ms-python.python",
                            "ms-python.vscode-pylance",
                            "ms-azuretools.vscode-docker",
                            "eamodio.gitlens",
                            "firsttris.vscode-jest-runner",
                            "orta.vscode-jest"
                  ],
                  "settings": {
                            "editor.formatOnSave": true,
                            "editor.defaultFormatter": "esbenp.prettier-vscode",
                            "editor.codeActionsOnSave": {
                                        "source.fixAll.eslint": true
                            },
                            "typescript.tsdk": "node_modules/typescript/lib",
                            "python.linting.enabled": true,
                            "python.linting.pylintEnabled": true,
                            "python.formatting.provider": "black"
                  }
          }
    },

    "forwardPorts": [3000, 5000, 8080],

    "postCreateCommand": "npm install && pip install -r requirements.txt || true",

    "remoteUser": "node"
}
